
export interface Recipe {
  id: string;
  title: string;
  description: string;
  image: string;
  prepTime: string;
  cookTime: string;
  difficulty: "Легко" | "Средне" | "Сложно";
  servings: number;
  tags: string[];
  ingredients: string[];
  steps: string[];
  isFeatured?: boolean;
}

export const recipes: Recipe[] = [
  {
    id: "bibimbap",
    title: "Бибимбап",
    description: "Традиционное корейское блюдо из риса с овощами, мясом и яйцом, заправленное острым соусом.",
    image: "https://images.unsplash.com/photo-1553163147-622ab57be1c7?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80",
    prepTime: "30 минут",
    cookTime: "20 минут",
    difficulty: "Средне",
    servings: 2,
    tags: ["Основные блюда", "Рис", "Острое"],
    ingredients: [
      "2 чашки отварного риса",
      "200г говядины, тонко нарезанной",
      "1 цуккини, тонко нарезанный",
      "1 морковь, нарезанная соломкой",
      "100г ростков маша",
      "100г шпината",
      "2 яйца",
      "2 ст.л. кочуджан (острой пасты)",
      "3 ст.л. соевого соуса",
      "2 ст.л. сахара",
      "2 ст.л. кунжутного масла",
      "1 ст.л. семян кунжута"
    ],
    steps: [
      "Приготовьте рис согласно инструкции.",
      "Маринуйте говядину в соевом соусе, сахаре и кунжутном масле.",
      "Обжарьте овощи отдельно с небольшим количеством соли.",
      "Обжарьте говядину до готовности.",
      "Пожарьте яйца, оставив желток жидким.",
      "Соберите блюдо: рис, овощи и мясо выложите по секторам в миску.",
      "Сверху положите яйцо и добавьте кочуджан.",
      "Перед едой всё хорошо перемешайте."
    ],
    isFeatured: true
  },
  {
    id: "kimchi",
    title: "Кимчи",
    description: "Традиционное корейское блюдо из ферментированной капусты с острыми специями. Основа корейской кухни.",
    image: "https://images.unsplash.com/photo-1583224874284-0a480a60e8a5?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80",
    prepTime: "1 час",
    cookTime: "3-7 дней ферментации",
    difficulty: "Средне",
    servings: 8,
    tags: ["Закуски", "Острое", "Ферментированное"],
    ingredients: [
      "1 большой кочан пекинской капусты",
      "1/4 стакана соли",
      "4-5 зубчиков чеснока",
      "1 небольшой корень имбиря",
      "1 луковица",
      "2-3 ст.л. рыбного соуса",
      "3-4 ст.л. молотого красного перца",
      "1 морковь",
      "3-4 зеленых лука",
      "1 ст.л. сахара"
    ],
    steps: [
      "Разрежьте капусту вдоль на четыре части, удалите кочерыжку.",
      "Натрите капусту солью между листьями и оставьте на 2 часа.",
      "Промойте капусту холодной водой и отожмите лишнюю воду.",
      "Приготовьте пасту: измельчите чеснок, имбирь, лук, добавьте рыбный соус, красный перец и сахар.",
      "Добавьте нарезанную морковь и зеленый лук в пасту.",
      "Тщательно натрите капусту пастой между листьями.",
      "Плотно упакуйте капусту в стеклянную банку и оставьте при комнатной температуре на 1-2 дня.",
      "Переместите в холодильник и выдержите еще 3-5 дней перед употреблением."
    ]
  },
  {
    id: "bulgogi",
    title: "Булгоги",
    description: "Маринованные и жареные ломтики говядины с ароматными специями. Одно из самых популярных корейских блюд.",
    image: "https://images.unsplash.com/photo-1583028281359-bdbfd2226bf9?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80",
    prepTime: "3 часа (включая маринование)",
    cookTime: "15 минут",
    difficulty: "Легко",
    servings: 4,
    tags: ["Основные блюда", "Мясо", "Жареное"],
    ingredients: [
      "700г говядины (лопатка или вырезка), тонко нарезанной",
      "1/2 груши, натертой",
      "1 луковица, нарезанная",
      "4 ст.л. соевого соуса",
      "2 ст.л. сахара",
      "2 ст.л. кунжутного масла",
      "2 зубчика чеснока, измельченных",
      "1 ст.л. тертого имбиря",
      "1 ст.л. кунжутных семян",
      "2 зеленых лука, нарезанных"
    ],
    steps: [
      "Смешайте грушу, лук, соевый соус, сахар, кунжутное масло, чеснок и имбирь для маринада.",
      "Залейте маринадом тонко нарезанную говядину и оставьте на 2-3 часа или на ночь в холодильнике.",
      "Разогрейте сковороду на сильном огне и обжаривайте мясо небольшими порциями по 2-3 минуты.",
      "Перед подачей посыпьте кунжутом и зеленым луком.",
      "Подавайте с отварным рисом и салатами."
    ]
  },
  {
    id: "japchae",
    title: "Чапче",
    description: "Классическое корейское блюдо из крахмальной лапши с овощами и говядиной, приправленное кунжутным маслом.",
    image: "https://images.unsplash.com/photo-1548943487-a2e4e43b4853?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80",
    prepTime: "30 минут",
    cookTime: "20 минут",
    difficulty: "Средне",
    servings: 4,
    tags: ["Основные блюда", "Лапша", "Праздничное"],
    ingredients: [
      "250г крахмальной лапши (фунчоза)",
      "200г говядины, тонко нарезанной",
      "1 морковь, нарезанная соломкой",
      "1 луковица, нарезанная полукольцами",
      "2 зеленых перца, нарезанных соломкой",
      "100г шпината",
      "3 зубчика чеснока, измельченных",
      "3 ст.л. соевого соуса",
      "2 ст.л. кунжутного масла",
      "1 ст.л. сахара",
      "1 ст.л. кунжутных семян"
    ],
    steps: [
      "Замочите лапшу в горячей воде на 15 минут, затем отварите до мягкости и промойте холодной водой.",
      "Маринуйте говядину в соевом соусе, чесноке и сахаре.",
      "Обжарьте говядину на сильном огне до готовности.",
      "Обжарьте овощи по отдельности с небольшим количеством соли.",
      "Смешайте лапшу, говядину и овощи в большой миске.",
      "Добавьте соевый соус, кунжутное масло и сахар по вкусу.",
      "Посыпьте кунжутными семенами перед подачей."
    ]
  },
  {
    id: "tteokbokki",
    title: "Токпокки",
    description: "Острые рисовые клецки в пикантном соусе на основе кочуджана. Популярная уличная еда Кореи.",
    image: "https://images.unsplash.com/photo-1590301157890-4810ed352733?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80",
    prepTime: "15 минут",
    cookTime: "25 минут",
    difficulty: "Легко",
    servings: 3,
    tags: ["Уличная еда", "Острое", "Закуски"],
    ingredients: [
      "500г рисовых клецек",
      "3 ст.л. кочуджана (острой пасты)",
      "1 ст.л. кочугару (хлопьев красного перца)",
      "2 ст.л. сахара",
      "3 ст.л. соевого соуса",
      "2 зубчика чеснока, измельченных",
      "3 стебля зеленого лука, нарезанных",
      "1 морковь, нарезанная тонкими полосками",
      "2 яйца вкрутую (опционально)",
      "100г рыбных пирожков одэн (опционально)"
    ],
    steps: [
      "Замочите рисовые клецки в холодной воде на 10-15 минут.",
      "В кастрюле смешайте 2 стакана воды, кочуджан, кочугару, сахар, соевый соус и измельченный чеснок.",
      "Доведите соус до кипения, затем добавьте подготовленные клецки, морковь и рыбные пирожки.",
      "Готовьте на среднем огне, помешивая, пока клецки не станут мягкими, около 15-20 минут.",
      "За 2-3 минуты до готовности добавьте нарезанный зеленый лук.",
      "Подавайте горячим, украсив нарезанными яйцами и дополнительным зеленым луком."
    ]
  },
  {
    id: "samgyeopsal",
    title: "Самгёпсаль",
    description: "Корейское блюдо из свиной грудинки, которую жарят на гриле и подают с различными гарнирами и соусами.",
    image: "https://images.unsplash.com/photo-1589647363585-f4a7d3877b10?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80",
    prepTime: "20 минут",
    cookTime: "30 минут",
    difficulty: "Легко",
    servings: 4,
    tags: ["Основные блюда", "Мясо", "Барбекю"],
    ingredients: [
      "800г свиной грудинки, нарезанной тонкими ломтиками",
      "1 головка салата ромэн",
      "1 упаковка периллы (кунжутных листьев)",
      "1 огурец, нарезанный тонкими ломтиками",
      "2 зеленых лука, нарезанных тонкими полосками",
      "2 головки чеснока, разделенные на зубчики",
      "2-3 зеленых перца чили",
      "200г кимчи",
      "Для соуса самджанг: 2 ст.л. твенджанг (соевой пасты), 1 ст.л. кочуджан, 1 ст.л. измельченного чеснока, 1 ст.л. мирина, 1 ст.л. кунжутного масла, 1 ст.л. кунжутных семян"
    ],
    steps: [
      "Приготовьте соус самджанг, смешав все ингредиенты.",
      "Подготовьте овощи и листья для оборачивания мяса.",
      "Разогрейте гриль или сковороду с толстым дном до высокой температуры.",
      "Выложите ломтики свиной грудинки на гриль и жарьте до готовности, переворачивая по мере необходимости.",
      "Жареную свинину можно есть сразу или обернуть в листья салата с добавлением соуса, чеснока и перца.",
      "Подавайте с рисом и другими банчанами (корейскими закусками)."
    ]
  },
  {
    id: "sundubu-jjigae",
    title: "Сундубу-чжигэ",
    description: "Острый суп с мягким тофу, морепродуктами или мясом. Настоящее утешительное блюдо в холодные дни.",
    image: "https://images.unsplash.com/photo-1627308595171-d1b5d95d90f7?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80",
    prepTime: "15 минут",
    cookTime: "25 минут",
    difficulty: "Средне",
    servings: 3,
    tags: ["Супы", "Острое", "Тофу"],
    ingredients: [
      "500г мягкого тофу (сундубу)",
      "100г свинины или говядины, нарезанной тонкими ломтиками (опционально)",
      "100г морепродуктов (креветки, гребешки, мидии - опционально)",
      "2 ст.л. кочуджана",
      "1 ст.л. кочугару",
      "1 луковица, нарезанная",
      "2 зубчика чеснока, измельченных",
      "2 зеленых лука",
      "1 яйцо",
      "1 ст.л. рыбного соуса",
      "2 ст.л. растительного масла",
      "500мл воды или бульона"
    ],
    steps: [
      "В горшочке или кастрюле разогрейте масло и обжарьте мясо, если используете.",
      "Добавьте лук и чеснок, обжаривайте до мягкости.",
      "Добавьте кочуджан и кочугару, обжаривайте 1 минуту.",
      "Влейте воду или бульон, доведите до кипения.",
      "Добавьте морепродукты (если используете) и варите 2-3 минуты.",
      "Аккуратно добавьте тофу, разбивая его на крупные куски.",
      "Добавьте рыбный соус и варите 5 минут.",
      "Вбейте яйцо и посыпьте нарезанным зеленым луком перед подачей.",
      "Подавайте с рисом."
    ]
  },
  {
    id: "kimbap",
    title: "Кимбап",
    description: "Корейские роллы с рисом и различными начинками, завернутые в водоросли нори. Идеальный перекус в дорогу.",
    image: "https://images.unsplash.com/photo-1557523599-74c4d2fd177b?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80",
    prepTime: "30 минут",
    cookTime: "15 минут",
    difficulty: "Средне",
    servings: 4,
    tags: ["Закуски", "Рис", "Для пикника"],
    ingredients: [
      "3 чашки отварного риса",
      "5 листов нори",
      "3 яйца, взбитых",
      "1 морковь, нарезанная соломкой",
      "1/2 огурца, нарезанного соломкой",
      "100г шпината",
      "100г корейской маринованной редьки данмуджи",
      "100г крабовых палочек или отварной говядины",
      "2 ст.л. кунжутного масла",
      "1 ст.л. соли",
      "1 ст.л. семян кунжута"
    ],
    steps: [
      "Приготовьте рис, смешайте его с 1 ст.л. кунжутного масла и щепоткой соли.",
      "Приготовьте тонкий омлет из взбитых яиц и нарежьте полосками.",
      "Бланшируйте шпинат, отожмите лишнюю влагу и заправьте солью и кунжутным маслом.",
      "Обжарьте нарезанную морковь до мягкости.",
      "На циновку для суши положите лист нори блестящей стороной вниз.",
      "Равномерно распределите рис по нори, оставляя 1 см с одной стороны.",
      "Выложите начинку рядами: омлет, морковь, огурец, данмуджи, крабовые палочки, шпинат.",
      "Сверните ролл, при необходимости смочив край нори водой для склеивания.",
      "Слегка смажьте ролл кунжутным маслом и нарежьте на кусочки шириной около 2 см."
    ]
  },
  {
    id: "pajeon",
    title: "Паджон",
    description: "Корейские лепешки из теста с добавлением зеленого лука, морепродуктов или кимчи. Популярная закуска к алкоголю.",
    image: "https://images.unsplash.com/photo-1584278858536-52732d3f41a9?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80",
    prepTime: "15 минут",
    cookTime: "20 минут",
    difficulty: "Легко",
    servings: 4,
    tags: ["Закуски", "Выпечка", "Для компании"],
    ingredients: [
      "2 чашки муки",
      "1 чашка холодной воды",
      "2 яйца",
      "1 пучок зеленого лука, нарезанного по 10 см",
      "100г морепродуктов (креветки, кальмары, мидии - опционально)",
      "1/2 ч.л. соли",
      "Для соуса: 3 ст.л. соевого соуса, 1 ст.л. рисового уксуса, 1 ч.л. сахара, 1 ч.л. измельченного чеснока, 1 ч.л. семян кунжута"
    ],
    steps: [
      "Смешайте муку, воду, яйца и соль до получения жидкого теста.",
      "Добавьте нарезанный зеленый лук и морепродукты, если используете.",
      "Разогрейте сковороду с растительным маслом.",
      "Вылейте порцию теста на сковороду, формируя лепешку диаметром около 20 см.",
      "Жарьте на среднем огне 3-4 минуты до золотистого цвета, затем переверните и жарьте еще 3 минуты.",
      "Смешайте все ингредиенты для соуса.",
      "Нарежьте готовую лепешку на кусочки и подавайте с соусом."
    ]
  },
  {
    id: "dakgalbi",
    title: "Дакгалби",
    description: "Острое жареное куриное мясо с овощами и рисовыми клецками в соусе на основе кочуджана. Популярное блюдо из города Чхунчхон.",
    image: "https://images.unsplash.com/photo-1591814252471-057a37a89637?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80",
    prepTime: "30 минут (плюс время маринования)",
    cookTime: "25 минут",
    difficulty: "Средне",
    servings: 4,
    tags: ["Основные блюда", "Острое", "Курица"],
    ingredients: [
      "600г куриного филе, нарезанного кусочками",
      "200г рисовых клецек (тток), нарезанных кусочками",
      "1 сладкий картофель, нарезанный кусочками",
      "1/2 кочана пекинской капусты, нарезанной крупными кусками",
      "1 морковь, нарезанная тонкими ломтиками",
      "1 луковица, нарезанная крупно",
      "Для маринада: 3 ст.л. кочуджана, 1 ст.л. кочугару, 2 ст.л. соевого соуса, 2 ст.л. сахара, 2 зубчика чеснока (измельченных), 1 ст.л. измельченного имбиря, 1 ст.л. кунжутного масла"
    ],
    steps: [
      "Смешайте все ингредиенты для маринада в большой миске.",
      "Добавьте куриное филе в маринад и оставьте на 30 минут или дольше.",
      "Разогрейте большую сковороду или вок на среднем огне.",
      "Выложите маринованное мясо, добавьте овощи и рисовые клецки.",
      "Готовьте, периодически помешивая, пока мясо не приготовится, а соус не загустеет, около 20-25 минут.",
      "Если блюдо становится слишком сухим, добавьте немного воды.",
      "Подавайте горячим, при желании посыпав семенами кунжута и нарезанным зеленым луком."
    ]
  }
];

export const getFeaturedRecipe = (): Recipe | undefined => {
  return recipes.find(recipe => recipe.isFeatured);
};

export const getRecentRecipes = (count: number = 6): Recipe[] => {
  return recipes.slice(0, count);
};

export const searchRecipes = (query: string): Recipe[] => {
  const lowercaseQuery = query.toLowerCase();
  return recipes.filter(recipe => 
    recipe.title.toLowerCase().includes(lowercaseQuery) || 
    recipe.description.toLowerCase().includes(lowercaseQuery) || 
    recipe.tags.some(tag => tag.toLowerCase().includes(lowercaseQuery)) ||
    recipe.ingredients.some(ingredient => ingredient.toLowerCase().includes(lowercaseQuery))
  );
};

export const getAllTags = (): string[] => {
  const tagsSet = new Set<string>();
  recipes.forEach(recipe => {
    recipe.tags.forEach(tag => tagsSet.add(tag));
  });
  return Array.from(tagsSet).sort();
};

export const getRecipesByTag = (tag: string): Recipe[] => {
  return recipes.filter(recipe => recipe.tags.includes(tag));
};

export const getRecipeById = (id: string): Recipe | undefined => {
  return recipes.find(recipe => recipe.id === id);
};
